<!DOCTYPE html>
<html lang="id">
<head>
<title>Halaman Depan</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- main bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Favicons -->
<link href="https://isi-ska.ac.id/wp-content/uploads/2023/09/isi-ver-putih-147x147.png" rel="icon">
<link href="https://isi-ska.ac.id/wp-content/uploads/2023/09/isi-ver-putih-147x147.png" rel="apple-touch-icon">

<!-- font -->
<link href="https://fonts.cdnfonts.com/css/calculator" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400..700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<link href="https://db.onlinewebfonts.com/c/72bbf784b7ab1eb052e63fd0fa2ec3bb?family=CastleT+V1" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/digital-7-mono" rel="stylesheet">
<!-- font -->
<!--   icon -->
<link rel='stylesheet' href='https://cdn-uicons.flaticon.com/3.0.0/uicons-solid-rounded/css/uicons-solid-rounded.css'>
<link rel='stylesheet' href='https://cdn-uicons.flaticon.com/3.0.0/uicons-thin-rounded/css/uicons-thin-rounded.css'>
<!--   icon -->
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<!-- moment date -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment-hijri@2.1.2/moment-hijri.min.js"></script>
<!-- moment date -->

<!-- Main CSS File -->
<link href="src/css/style.css" rel="stylesheet">


</head>
<body>

<nav class="navbar navbar-default"> 
    <div class="container-fluid"> 
        <div class="navbar-header">
            <div class="flex-container logo">
          <img src="https://digilib.isi-ska.ac.id/wp-content/uploads/2021/10/isi-ver-putih.png" class="example-img" />
              <!-- <img src="https://lh3.googleusercontent.com/d/1YGc_N6b47ge538E-1EaIYpFaY0zuAkF3=w1000?authuser=1"/> -->
          <div>
          <div style="height: 24px; display: block; margin-left: auto; margin-right: auto; text-align: center;">
            <span class="aksara" style="display:inline;">ꦩꦱ꧀ꦗꦶꦣ꧀ꦏꦭꦶꦩꦱꦣ</span>
            <span class="hijaiyah" style="display:inline;">مسجد کالي ما سادا</span>
            </div>
            <h1>MASJID KALIMASADA</h1>
            <div class="dt-fancy-separator h6-size" style="width: 75%;">
              <div class="dt-fancy-title" style="color: #FFF;">
                <span class="separator-holder separator-left" style="border-color: #FFF;"></span>
                Kampus 1 ISI Surakarta
                <span class="separator-holder separator-right" style="border-color: #FFF;"></span>
              </div>
            </div>
            </div>
        </div>
    </div> 
        
    <div class="nav navbar-nav navbar-right" style="margin-right: 40px;">
    <span id="clock"></span>
    </div> 
</div> 
</nav>

<div class="container-fluid">
  <div class="row">
      <!-- konten -->
      <div class="col-md-8 col-sm-8" style="padding-left: 0px; padding-right: 0px;">
      
      <div class="carousel">
        <div class="slides">
          <div class="slide" data-duration="10000">

              <div class="section-title">
              <h2>Maklumat Shalat Jum'at <br> <span id="tgl_sholatJumat"></span></h2>
              </div>
       
            <div class="row" style="margin: 15px;">
              <div class="col-md-6">
                <div class="card profile-card-2">
               <div class="card-img-block">
                  <h4>Imam</h4>
               </div>
               <div class="card-body pt-5">
                  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIwoYUmRwwk60oQVwIEFkoOn5iQZ1jNYkMh80kZ5KkIauzp7E-4kCAkvw&s=10" alt="profile-image" class="profile" />
                  <h5 class="card-title">Dr. Joko Budiwiyanto, S.Sn., M.A.</h5>
                  <p class="card-text">Wakil Rektor Bidang Perencanaan, Keuangan, dan Umum</p> 
               </div>
                </div> 
              </div> <!-- col 6 -->
              <div class="col-md-6">
                <div class="card profile-card-2">
               <div class="card-img-block">
                  <h4>Khatib</h4>
               </div>
               <div class="card-body pt-5">
                  <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIwoYUmRwwk60oQVwIEFkoOn5iQZ1jNYkMh80kZ5KkIauzp7E-4kCAkvw&s=10" alt="profile-image" class="profile" />
                  <h5 class="card-title">Dr. Joko Budiwiyanto, S.Sn., M.A.</h5>
                  <p class="card-text">Wakil Rektor Bidang Perencanaan, Keuangan, dan Umum</p> 
               </div>
                </div> 
              </div> <!-- col 6 -->
            </div> <!-- row -->
                <div class="row">
                <div class="col-md-12">
                  <div class="card"  style="margin: 15px;">
                    <div class="card-body">
                      <blockquote class="blockquote blockquote-custom bg-white px-3 pt-4">
                        <div class="blockquote-custom-icon shadow-1-strong">
                          <img src="src/icon/image 9.png">
                        </div>
                        <p class="mb-0 mt-2 font-italic">
                          "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                          incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                          exercitation ullamco laboris nisi ut aliquip ex ea commodo
                          <a href="#" class="text-info">@consequat</a>."
                        </p>
                        <footer class="blockquote-footer pt-4 mt-4 border-top">
                          Tema Khutbah Jum'at
                        </footer>
                      </blockquote>
                    </div>
                  </div>

                </div>
                </div>
            
          </div>
          <div class="slide" data-duration="10000">
            <div class="section-title">
             <h2>Agenda Pengajian</h2>
            </div>
             <!-- Tabel -->
            <div class="row">
               <div class="agenda">
    <div class="table-responsive">
      <table class="table table-striped table-bordered rounded-table">
        <thead>
          <tr>
            <th>Tanggal</th>
            <th>Jam</th>
            <th>Agenda</th>
          </tr>
        </thead>
        <tbody>
          <!-- Single event in a single day -->
          <tr>
            <td class="agenda-date" class="active" rowspan="1">
              <div class="dayofmonth">26</div>
              <div class="dayofweek">Saturday</div>
              <div class="shortdate text-muted">July, 2014</div>
            </td>
            <td class="agenda-time">
              5:30 AM
            </td>
            <td class="agenda-events">
              <div class="agenda-event">
                <i class="fi fi-tr-catalog-magazine"></i>
                ihya U`lumuddin
                <br>
                <i class="fi fi-tr-skill-user"></i>
                KH. Dr. Fahruddin Faiz, M.Ag
              </div>
            </td>
          </tr>

          <!-- Multiple events in a single day (note the rowspan) -->
          <tr>
            <td class="agenda-date" class="active" rowspan="3">
              <div class="dayofmonth">4</div>
              <div class="dayofweek">Thursday</div>
              <div class="shortdate text-muted">July, 2014</div>
            </td>
            <td class="agenda-time">
              8:00 - 9:00 AM
            </td>
            <td class="agenda-events">
              <div class="agenda-event">
                Doctor's Appointment
              </div>
            </td>
          </tr>
          <tr>
            <td class="agenda-time">
              10:15 AM - 12:00 PM
            </td>
            <td class="agenda-events">
              <div class="agenda-event">
                Meeting with executives
              </div>
            </td>
          </tr>
          <tr>
            <td class="agenda-time">
              7:00 - 9:00 PM
            </td>
            <td class="agenda-events">
              <div class="agenda-event">
                Aria's dance recital
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div> </div>
            </div> 
            <!-- Tabel -->
            
            
          </div>
          <div class="slide" data-duration="10000">

            <div class="section-title">
            <h2>Laporan Keuangan Masjid <br> <span>Primary</span></h2>
            <p> </p>
            </div>

            <div class="row">
            </div>

            
          </div>
        </div>
        <div class="progress-bar" id="progressBar"></div>
      </div>

  
      </div>
      <!-- konten -->
      
      <!-- jadwal sholat -->
      <div class="col-md-4 col-sm-4">


          <div class="tile">
                    <div class="wrapper">
                        <div class="header">
                          <p class="location"><i class="fi fi-sr-marker"></i> Kota Surakarta</p>
                          <h2 class="text-1xl" id="prayer"></h2>
                          <img src="src/icon/prayer-mat_7099103.png" style="display: block; margin: auto;width: 15%;" id="tidak_ada_jadwal" />
                          <span class="text-sm" id="countdown">- 02:29:21</span>
                        </div>

                        <div class="banner-img">
                             <span id="hari-pasaran" class="badge bg-light" style="color: #59687f;">Rabu Pahing</span>
                        </div>

                        <div class="dates">
                            <div class="start">
                                <strong>Masehi</strong>
                                <strong id="tanggal-masehi" class="tanggal-masehi">Masehi</strong>
                                <span></span>
                            </div>
                            <div class="ends">
                                <strong>Hijriah</strong>
                                <strong id="tanggal-hijriah" class="tanggal-masehi">Masehi</strong>
                            </div>
                        </div>


                       
                          <ul class="list-group list-group-flush list-group-horizontal flex-wrap" id="jadwal_List"></ul>


                        <div class="footer">
                            <p>Waktu Shalat telah ditashih oleh</p>
                            <img src="https://lh3.googleusercontent.com/d/1YmVIJSCu6IllJ7sXCaffcJR7wSg4-3uw=w1000?authuser=1"/>
                        </div>
                    </div>
                </div>

       
        
      </div>
      <!-- jadwal sholat -->
      
  </div>


<!-- <div id="countdown"></div> -->
  

  

</div>

<script type="text/javascript" src="src/json/jadwalSholat.json"></script>

<script>
const date = new Date();

function formatDateToYMD(Date) {
  const year = Date.getFullYear();
  const month = String(Date.getMonth() + 1).padStart(2, '0'); // getMonth() dimulai dari 0
  const day = String(Date.getDate()).padStart(2, '0');

  return `${year}-${month}-${day}`;
}


    function HariPasaranJawa(tanggalInput) {
  const hariPasaran = ['Legi', 'Pahing', 'Pon', 'Wage', 'Kliwon'];
  const hariMingguan = ['Ahad', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&apos;at', 'Sabtu'];

  // Konversi ke format Date
  const tanggal = new Date(tanggalInput);

  // Hari dalam seminggu
  const hari = hariMingguan[tanggal.getDay()];

  // Hitung selisih hari dari acuan (1 Januari 1900 adalah Legi)
  const acuan = new Date('1900-01-01');
  const selisihHari = Math.floor((tanggal - acuan) / (1000 * 60 * 60 * 24));
  const pasaran = hariPasaran[selisihHari % 5];

  return `${hari} ${pasaran}`;
} 

// console.log(HariPasaranJawa(agenda));

function formatTanggalIndo(tanggalString) {
  const bulanIndo = [
    'Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni',
    'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'
  ];

  const [tahun, bulan, tanggal] = tanggalString.split('-');
  const namaBulan = bulanIndo[parseInt(bulan) - 1];
  
  return `${parseInt(tanggal)} ${namaBulan} ${tahun}`;
}

// console.log(formatTanggalIndo(agenda));

$('#hari-pasaran').html(HariPasaranJawa(date));
$('#tanggal-masehi').html(formatTanggalIndo(formatDateToYMD(date)));

  function konversiHijriah(gregorianDate) {
  const hijriMonths = [
    "Muharram", "Safar", "Rabiul Awal", "Rabiul Akhir",
    "Jumadil Awal", "Jumadil Akhir", "Rajab", "Syaban",
    "Ramadhan", "Syawal", "Zulkaidah", "Zulhijah"
  ];

  const hijri = moment(gregorianDate, "YYYY-MM-DD").iDate();
  const hijriMonth = hijriMonths[moment(gregorianDate, "YYYY-MM-DD").iMonth()];
  const hijriYear = moment(gregorianDate, "YYYY-MM-DD").iYear();

  return `${hijri} ${hijriMonth} ${hijriYear} H`;
}

// Contoh penggunaan:
console.log(konversiHijriah(formatDateToYMD(date))); // Output: contoh "10 Safar 1447 H"

// test tanggal maklumat solat jumat id="tgl_sholatJumat"
var SholatJumat = "2025-08-08";
$('#tgl_sholatJumat').html(HariPasaranJawa(SholatJumat)+" , "+formatTanggalIndo(SholatJumat)+" / "+konversiHijriah(SholatJumat));
</script>


<script>
    function updateClock() {
  const now = new Date();
  const hours = now.getHours().toString().padStart(2, '0');
  const minutes = now.getMinutes().toString().padStart(2, '0');
  const seconds = now.getSeconds().toString().padStart(2, '0');

  const clockDisplay = `${hours}:${minutes}:${seconds}  WIB`;
  $('#clock').html(clockDisplay); 
}

function updateClockEverySecond() {
  updateClock();
  setInterval(updateClock, 1000);
}

updateClockEverySecond();

</script>
<script>
    // Set zona waktu Indonesia (WIB)
  moment.locale('id');
  // const tanggalHijriah = moment().utcOffset(7).format('iD iMMMM iYYYY');
  
  // document.write("Tanggal Hijriah (Indonesia): " + tanggalHijriah);

const bulanHijriah = moment().utcOffset(7).format('iMMMM');
// console.log(bulanHijriah);

const tanggal_Hijriah = moment().utcOffset(7).format('iD');
// console.log(tanggal_Hijriah);

const tahunHijriah = moment().utcOffset(7).format('iYYYY');
// console.log(tahunHijriah);

const hijriMonthMap = {
  'محرم': 'Muharram',
  'صفر': 'Safar',
  'ربيع الأول': 'Rabiul Awal',
  'ربيع الآخر': 'Rabiul Akhir',
  'جمادى الأولى': 'Jumadil Awal',
  'جمادى الآخرة': 'Jumadil Akhir',
  'رجب': 'Rajab',
  'شعبان': "Sya'ban",
  'رمضان': 'Ramadhan',
  'شوال': 'Syawwal',
  'ذو القعدة': 'Dzulkaidah',
  'ذو الحجة': 'Dzulhijjah'
};

// Fungsi konversi
function convertHijriMonth(arabicMonth) {
  return hijriMonthMap[arabicMonth] || 'Unknown month';
}

// Contoh penggunaan
// console.log(convertHijriMonth(bulanHijriah)); // Output: Ramadhan

$('#tanggal-hijriah').html(tanggal_Hijriah+' '+convertHijriMonth(bulanHijriah)+' '+tahunHijriah); 

</script>

<script>


    // filter data dari json
      const targetDate = date.toISOString().slice(0, 10);
      const jadwalSholat = datas.filter(item => item.tanggal === targetDate);

      // console.log(jadwalSholat);

    function getNextPrayerTime(jadwal) {
      const now = new Date();
      const today = jadwalSholat.find(j => j.tanggal === now.toISOString().slice(0, 10));
      if (!today) return null;

      const times = [
        { name: "Imsak", time: today.imsak },
        { name: "Subuh", time: today.subuh },
        { name: "Terbit", time: today.terbit },
        { name: "Duha", time: today.duha },
        { name: "Zuhur", time: today.zuhur },
        { name: "Asar", time: today.asar },
        { name: "Magrib", time: today.magrib },
        { name: "Isya", time: today.isya }
      ];

      for (let i = 0; i < times.length; i++) {
        const [hour, minute] = times[i].time.split(":");
        const prayerTime = new Date(now);
        prayerTime.setHours(parseInt(hour), parseInt(minute), 0, 0);

        if (now < prayerTime) {
          return { name: times[i].name, time: prayerTime };
        }
      }
      return null; // Semua waktu sholat hari ini telah berlalu
    }

    function updateCountdown() {
      const nextPrayer = getNextPrayerTime(jadwalSholat);

      if (!nextPrayer) {
        // $('#prayer').html("Semua jadwal sholat hari ini telah berlalu.");
        $("#prayer").css("display", "none");
        $("#tidak_ada_jadwal").css("display", "block");
        $('#countdown').html(" 0 jam 0 menit 0 detik");
        return;
      }

      const now = new Date();
      const diff = Math.max(0, nextPrayer.time - now);

      const hours = Math.floor(diff / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      $('#prayer').html(nextPrayer.name+" <small class='prayer-time'>"+nextPrayer.time.toLocaleTimeString("id-ID", { hour: "2-digit", minute: "2-digit" }).replace('.', ':')+" </small>");
      $('#countdown').html("- "+hours+" jam "+minutes+" menit "+seconds+" detik");
      $("#prayer").css("display", "block");
      $("#tidak_ada_jadwal").css("display", "none");
    }

    setInterval(updateCountdown, 1000);
    updateCountdown(); // First run
  
// tampilan depan jadwal sholat

const waktu = jadwalSholat[0];

const schule= [
  { nama: "Imsak", waktu: waktu.imsak },
  { nama: "Subuh", waktu: waktu.subuh },
  { nama: "Terbit", waktu: waktu.terbit },
  { nama: "Dhuha", waktu: waktu.duha },
  { nama: "Zuhur", waktu: waktu.zuhur },
  { nama: "Asar", waktu: waktu.asar },
  { nama: "Magrib", waktu: waktu.magrib },
  { nama: "Isya", waktu: waktu.isya }
];


      $(schule).each(function(i,val){
        $('#jadwal_List').append("<li class='list-group-item  d-flex justify-content-between align-items-center "+val.nama+"'><div class='aligned'><img src='src/icon/icon-"+val.nama+".svg' alt='icon-"+val.nama+"'/><span>"+val.nama+"</span></div><span class='badge bg-primary'>"+val.waktu+"</span></li>");
      });


// Mengambil teks di dalam span
var keterangan = $('.text-1xl').text();
const ArrayKeterangan = keterangan.split(" ");
let nilai = ArrayKeterangan[0];
// alert(nilai);

switch(nilai) {
  case "Imsak":
        $('.Imsak').toggleClass('list-group-item-success');
    break;
  case "Subuh":
        $('.Subuh').toggleClass('list-group-item-success');
    break;
    case "Terbit":
        $('.Terbit').toggleClass('list-group-item-success');
    break;
    case "Duha":
        $('.Dhuha').toggleClass('list-group-item-success');
    break;
    case "Zuhur":
        $('.Zuhur').toggleClass('list-group-item-success');
    break;
    case "Asar":
        $('.Asar').toggleClass('list-group-item-success');
    break;
    case "Magrib":
        $('.Magrib').toggleClass('list-group-item-success');
    break;
    case "Isya":
        $('.Isya').toggleClass('list-group-item-success');
    break;
  default:
    $('.Subuh').toggleClass('');
}

  </script>

<script>
  const slides = document.querySelector('.slides');
  const allSlides = document.querySelectorAll('.slide');
  const progressBar = document.getElementById('progressBar');
  let currentSlide = 0;
  let timeoutId;

  function showSlide(index) {
    const slide = allSlides[index];
    const duration = parseInt(slide.getAttribute('data-duration'), 10);

    // Move to the selected slide
    slides.style.transform = `translateX(-${index * 100}%)`;

    // Reset and animate the progress bar
    progressBar.style.transition = 'none';
    progressBar.style.width = '0%';
    void progressBar.offsetWidth; // force reflow
    progressBar.style.transition = `width ${duration}ms linear`;
    progressBar.style.width = '100%';

    // Schedule the next slide
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => {
      currentSlide = (currentSlide + 1) % allSlides.length;
      showSlide(currentSlide);
    }, duration);
  }

  // Start the carousel
  showSlide(currentSlide);
</script>
<script>
function getFridayDate() {
  const today = new Date();
  const dayOfWeek = today.getDay(); // 0 (Sun) to 6 (Sat)
  const diffToFriday = 5 - dayOfWeek; // 5 is Friday
  const friday = new Date(today);
  friday.setDate(today.getDate() + diffToFriday);
  
  // Format to YYYY-MM-DD
  const yyyy = friday.getFullYear();
  const mm = String(friday.getMonth() + 1).padStart(2, '0');
  const dd = String(friday.getDate()).padStart(2, '0');
  
  return `${yyyy}-${mm}-${dd}`;
}

console.log(getFridayDate());
</script>

</body>
</html>
