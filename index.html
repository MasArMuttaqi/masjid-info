<!DOCTYPE html>
<html lang="id">
<head>
  <title>Halaman Depan</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Favicons -->
  <link href="https://isi-ska.ac.id/wp-content/uploads/2023/09/isi-ver-putih-147x147.png" rel="icon">
  <link href="https://isi-ska.ac.id/wp-content/uploads/2023/09/isi-ver-putih-147x147.png" rel="apple-touch-icon">

<!-- font -->
<link href="https://fonts.cdnfonts.com/css/calculator" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400..700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<link href="https://db.onlinewebfonts.com/c/72bbf784b7ab1eb052e63fd0fa2ec3bb?family=CastleT+V1" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/digital-7-mono" rel="stylesheet">
<!-- font -->
<link rel='stylesheet' href='https://cdn-uicons.flaticon.com/3.0.0/uicons-solid-rounded/css/uicons-solid-rounded.css'>
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment-hijri@2.1.2/moment-hijri.min.js"></script>

<style>

html {
  zoom: 100%; /* Sets the default zoom to 100% (normal size) */
  /* Or, for a different zoom level: */
  /* zoom: 120%; */ /* Sets the default zoom to 120% */
}

body{
  background-image: url(https://isi-ska.ac.id/wp-content/uploads/2021/08/background-isi.jpg);
    background-size: cover;
}

.el-messiri-logo-fomt {
  font-family: "El Messiri", sans-serif;
  font-optical-sizing: auto;
  font-weight: 700;
  font-style: normal;
}

@font-face {
  font-family: aksara;
  src: url("src/font/nyk Ngayogyan New Italic.ttf");
}

.flex-container {
   display: flex;
   align-items: center;  
}

.flex-container {
   display: flex;
   align-items: center;  
}

.navbar{
max-height: 80px;
       /*background-image: url(https://lh3.googleusercontent.com/d/1WfaeWprBY4861R4wxt42JuwSUuV8shjI=w1000?authuser=1);*/
  background-image: url(https://lh3.googleusercontent.com/d/1UEVIQRe8Gkb1h6YIPrX-JsAWeXbw1Klz=w1000?authuser=1);
  background-size: cover;
}

.navbar .container-fluid .logo {
  line-height: 1;
  margin-left: 40px;
}

.navbar .container-fluid .logo img {
  display: block;
  max-height:50px;
  margin-right: 8px;
}

.navbar .container-fluid .logo h1 {
  font-size: 16px;
  margin: 0;
  color: #fff;
  font-family: "CastleT V1";
  font-optical-sizing: auto;
  letter-spacing: 2px;
/*   font-weight: 600; */
}

.navbar .container-fluid .logo h2 {
  font-size: 14px;
  margin: 0;
  font-weight: 300;
  color: #fff;
  font-family: "El Messiri", sans-serif;
  font-optical-sizing: auto;
}

.navbar .container-fluid .logo span {
  color: #fff;
  font-size: 12pt;
  font-weight: 300;
  padding-left: 3px;
  font-family: aksara;
}

#clock{
   font-family: 'Digital-7', sans-serif;
   font-size: 2em; 
   font-weight: 600;  
   letter-spacing: 2px; 
   color: #fff;
} 
.aligned {
   display: flex;
   align-items: center;
}
         
.aligned span {
  padding: 10px;
}

li .badge {
  font-family: "Roboto", sans-serif;
  font-optical-sizing: auto;
  font-size: 11pt;
}

li .aligned span {
  font-family: "Roboto", sans-serif;
  font-optical-sizing: auto;
  font-size: 14pt;
  font-weight: 500;
}
</style>

<style>
  .tile{
  width: 100%;
    height: 100%;
  background:#fff;
  border-radius:5px;
  box-shadow:0px 2px 3px -1px rgba(151, 171, 187, 0.7);
  float:left;
  transform-style: preserve-3d;
  margin: 5px;

}

.header{
  border-bottom:1px solid #ebeff2;
  padding:19px 0;
  text-align:center;
  color:#59687f;
  font-size:600;
  font-size:19px; 
  position:relative;
  background-image: url(https://lh3.googleusercontent.com/d/1ZFhj6AVY8dfy70BwWlnGVyaEz7N3LZu9=w1000?authuser=1);
  background-size: cover;
}

.banner-img {
    text-align: center;
    position: relative;
    color: #59687f;
    font-size: 16px;
    font-weight: 700;
    height: 4px;
    text-transform: uppercase;
    letter-spacing: 2px;
}

.location{
  text-align: center;
  position: relative;
  margin: 20px 5px;
  color: #666;
  font-family: "Roboto", sans-serif;
  font-optical-sizing: auto;
  font-size: 11pt;
}

.location i{
  color: #0dcaf0;
}

.dates{
  border:1px solid #ebeff2;
  border-radius:5px;
  padding:20px 0px;
  margin:10px 20px;
  font-size:16px;
  color:#5aadef;
  font-weight:600;  
  overflow:auto;
}
.dates div{
  float:left;
  width:50%;
  text-align:center;
  position:relative;
}
.dates strong,
.stats strong{
  font-family: "Roboto", sans-serif;
  display:block;
  color:#adb8c2;
  font-size:11px;
  font-weight:700;
}

strong.tanggal-masehi{
    font-family: "Roboto", sans-serif;
    display: block;
    font-size: 16px;
    color: #5aadef;
    font-weight: 600;
}

.dates span{
  width:1px;
  height:40px;
  position:absolute;
  right:0;
  top:0;  
  background:#ebeff2;
}


div.footer {
  text-align: center;
  position: relative;
  margin: 20px 5px;
  color: #666;
  font-family: "Roboto", sans-serif;
  font-optical-sizing: auto;
  font-weight: 200;
  font-style: ExtraLight;
}
.footer img{
  width: 71%;
}
</style>
<style>
    h2.text-1xl {
        font-family: "Roboto", sans-serif;
        font-optical-sizing: auto;
        font-weight: 500;
        letter-spacing: 2px;
    }
    .prayer-time{
        font-family: "Roboto", sans-serif;
        font-optical-sizing: auto;
        font-weight: 300;
        font-size: 12pt;
    }
    .text-sm{
       font-family: "Roboto", sans-serif;
        font-optical-sizing: auto;
        font-weight: 500;
        font-size: 12pt;
    }

.list-group-horizontal.flex-wrap > .list-group-item {
    flex: 0 0 50%; /* 2 items per row */
    max-width: 48%;
    margin: 4px;
    border-radius: 8px;
  }


</style>
<style>
  .carousel {
      position: relative;
      width: 100%;
      height: 100%;
      /*margin: 40px auto;*/
      margin: 5px;
      overflow: hidden;
      /*border: 2px solid #444;*/
      background:#fff;
      border-radius:5px;
      box-shadow:0px 2px 3px -1px rgba(151, 171, 187, 0.7);
      /* background: rgb(240, 240, 240); */
    }
    .slides {
      display: flex;
      transition: transform 0.5s ease-in-out;
      height: 100%;
    }
    .slide {
      min-width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      /* align-items: center; */
      padding-top: 19px;
      font-size: 2em;
      /* color: #fff; */
    }
    .progress-bar {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 5px;
      background: linear-gradient(124deg, #d12727 56%, #7f1900 100%);
      width: 0%;
      transition: width linear;
    }
</style>
<style>
  .section-title h2 {
    font-family: "Roboto", sans-serif;
    font-size: 18pt;
    font-weight: 700;
    margin-bottom: 20px;
    padding-bottom: 20px;
    position: relative;
    color: #3a3939;
    text-align: center;
  }
  .section-title h2:before {
    content: "";
    position: absolute;
    display: block;
    width: 160px;
    height: 1px;
    background: color-mix(in srgb, #3a3939, transparent 60%);
    left: 0;
    right: 0;
    bottom: 1px;
    margin: auto;
  }
  .section-title h2::after {
    content: "";
    position: absolute;
    display: block;
    width: 60px;
    height: 3px;
    background: #5d57f4;
    left: 0;
    right: 0;
    bottom: 0;
    margin: auto;
}
</style>
</head>
<body>

<nav class="navbar navbar-default"> 
    <div class="container-fluid"> 
        <div class="navbar-header">
            <div class="flex-container logo">
<!--           <img src="https://isi-ska.ac.id/wp-content/uploads/2021/03/isi-ver.01-600x530.png" class="example-img" /> -->
              <img src="https://lh3.googleusercontent.com/d/1YGc_N6b47ge538E-1EaIYpFaY0zuAkF3=w1000?authuser=1"/>
          <div>
            <h2>مسجد کالي ما سادا</h2> 
            <h1>MASJID KALIMASADA</h1>
            <span>ꦩꦱ꧀ꦗꦶꦣ꧀ꦏꦭꦶꦩꦱꦣ</span> 
            </div>
        </div>
    </div> 
        
    <div class="nav navbar-nav navbar-right" style="margin-right: 40px;">
    <span id="clock"></span>
    </div> 
</div> 
</nav>

<div class="container-fluid">
  <div class="row">
      <!-- konten -->
      <div class="col-md-8 col-sm-8" style="padding-left: 0px; padding-right: 0px;">
      
      <div class="carousel">
        <div class="slides">
          <div class="slide" data-duration="10000">
            <div class="section-title">
            <h2>Maklumat Shalat Jum'at</h2>
            <p class="location">tanggal <span id="tanggal-sholat-jumat">1 Agustus 2025</span></p>
            </div>

            <div class="row">
            </div>
            
          </div>
          <div class="slide" data-duration="10000">
            <div class="section-title">
            <h2>Agenda Pengajian</h2>
            <p> </p>
            </div>

            <div class="row">
            </div>
            
          </div>
          <div class="slide" data-duration="10000">

            <div class="section-title">
            <h2>Laporan Keuangan Masjid</h2>
            <p> </p>
            </div>

            <div class="row">
            </div>

            
          </div>
        </div>
        <div class="progress-bar" id="progressBar"></div>
      </div>

  
      </div>
      <!-- konten -->
      
      <!-- jadwal sholat -->
      <div class="col-md-4 col-sm-4">


          <div class="tile">
                    <div class="wrapper">
                        <div class="header">
                          <p class="location"><i class="fi fi-sr-marker"></i> Kota Surakarta</p>
                          <h2 class="text-1xl" id="prayer"></h2>
                          <img src="src/icon/prayer-mat_7099103.png" style="display: block; margin: auto;width: 15%;" id="tidak_ada_jadwal" />
                          <span class="text-sm" id="countdown">- 02:29:21</span>
                        </div>

                        <div class="banner-img">
                             <span id="hari-pasaran" class="badge bg-light" style="color: #59687f;">Rabu Pahing</span>
                        </div>

                        <div class="dates">
                            <div class="start">
                                <strong>Masehi</strong>
                                <strong id="tanggal-masehi" class="tanggal-masehi">Masehi</strong>
                                <span></span>
                            </div>
                            <div class="ends">
                                <strong>Hijriah</strong>
                                <strong id="tanggal-hijriah" class="tanggal-masehi">Masehi</strong>
                            </div>
                        </div>


                       
                          <ul class="list-group list-group-flush list-group-horizontal flex-wrap" id="jadwal_List"></ul>


                        <div class="footer">
                            <p>Waktu Shalat telah ditashih oleh</p>
                            <img src="https://lh3.googleusercontent.com/d/1YmVIJSCu6IllJ7sXCaffcJR7wSg4-3uw=w1000?authuser=1"/>
                        </div>
                    </div>
                </div>

       
        
      </div>
      <!-- jadwal sholat -->
      
  </div>


<!-- <div id="countdown"></div> -->
  

  

</div>

<script type="text/javascript" src="tableConvert.com_0otiu2.json"></script>

<script>
  const date = new Date();

function formatDateToYMD(Date) {
  const year = Date.getFullYear();
  const month = String(Date.getMonth() + 1).padStart(2, '0'); // getMonth() dimulai dari 0
  const day = String(Date.getDate()).padStart(2, '0');

  return `${year}-${month}-${day}`;
}


    function HariPasaranJawa(tanggalInput) {
  const hariPasaran = ['Legi', 'Pahing', 'Pon', 'Wage', 'Kliwon'];
  const hariMingguan = ['Ahad', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum`at', 'Sabtu'];

  // Konversi ke format Date
  const tanggal = new Date(tanggalInput);

  // Hari dalam seminggu
  const hari = hariMingguan[tanggal.getDay()];

  // Hitung selisih hari dari acuan (1 Januari 1900 adalah Legi)
  const acuan = new Date('1900-01-01');
  const selisihHari = Math.floor((tanggal - acuan) / (1000 * 60 * 60 * 24));
  const pasaran = hariPasaran[selisihHari % 5];

  return `${hari} ${pasaran}`;
} 

// console.log(HariPasaranJawa(agenda));

function formatTanggalIndo(tanggalString) {
  const bulanIndo = [
    'Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni',
    'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'
  ];

  const [tahun, bulan, tanggal] = tanggalString.split('-');
  const namaBulan = bulanIndo[parseInt(bulan) - 1];
  
  return `${parseInt(tanggal)} ${namaBulan} ${tahun}`;
}

// console.log(formatTanggalIndo(agenda));

$('#hari-pasaran').html(HariPasaranJawa(date));
$('#tanggal-masehi').html(formatTanggalIndo(formatDateToYMD(date)));
  </script>

<script>
    function updateClock() {
  const now = new Date();
  const hours = now.getHours().toString().padStart(2, '0');
  const minutes = now.getMinutes().toString().padStart(2, '0');
  const seconds = now.getSeconds().toString().padStart(2, '0');

  const clockDisplay = `${hours}:${minutes}:${seconds}  WIB`;
  $('#clock').html(clockDisplay); 
}

function updateClockEverySecond() {
  updateClock();
  setInterval(updateClock, 1000);
}

updateClockEverySecond();

</script>
<script>
    // Set zona waktu Indonesia (WIB)
  moment.locale('id');
  // const tanggalHijriah = moment().utcOffset(7).format('iD iMMMM iYYYY');
  
  // document.write("Tanggal Hijriah (Indonesia): " + tanggalHijriah);

const bulanHijriah = moment().utcOffset(7).format('iMMMM');
// console.log(bulanHijriah);

const tanggal_Hijriah = moment().utcOffset(7).format('iD');
// console.log(tanggal_Hijriah);

const tahunHijriah = moment().utcOffset(7).format('iYYYY');
// console.log(tahunHijriah);

const hijriMonthMap = {
  'محرم': 'Muharram',
  'صفر': 'Shafar',
  'ربيع الأول': 'Rabiul Awal',
  'ربيع الآخر': 'Rabiul Akhir',
  'جمادى الأولى': 'Jumadil Awal',
  'جمادى الآخرة': 'Jumadil Akhir',
  'رجب': 'Rajab',
  'شعبان': "Sya'ban",
  'رمضان': 'Ramadhan',
  'شوال': 'Syawwal',
  'ذو القعدة': 'Dzulkaidah',
  'ذو الحجة': 'Dzulhijjah'
};

// Fungsi konversi
function convertHijriMonth(arabicMonth) {
  return hijriMonthMap[arabicMonth] || 'Unknown month';
}

// Contoh penggunaan
// console.log(convertHijriMonth(bulanHijriah)); // Output: Ramadhan

$('#tanggal-hijriah').html(tanggal_Hijriah+' '+convertHijriMonth(bulanHijriah)+' '+tahunHijriah); 

</script>

<script>


    // filter data dari json
      const targetDate = date.toISOString().slice(0, 10);
      const jadwalSholat = datas.filter(item => item.tanggal === targetDate);

      // console.log(jadwalSholat);

    function getNextPrayerTime(jadwal) {
      const now = new Date();
      const today = jadwalSholat.find(j => j.tanggal === now.toISOString().slice(0, 10));
      if (!today) return null;

      const times = [
        { name: "Imsak", time: today.imsak },
        { name: "Subuh", time: today.subuh },
        { name: "Terbit", time: today.terbit },
        { name: "Duha", time: today.duha },
        { name: "Zuhur", time: today.zuhur },
        { name: "Asar", time: today.asar },
        { name: "Magrib", time: today.magrib },
        { name: "Isya", time: today.isya }
      ];

      for (let i = 0; i < times.length; i++) {
        const [hour, minute] = times[i].time.split(":");
        const prayerTime = new Date(now);
        prayerTime.setHours(parseInt(hour), parseInt(minute), 0, 0);

        if (now < prayerTime) {
          return { name: times[i].name, time: prayerTime };
        }
      }
      return null; // Semua waktu sholat hari ini telah berlalu
    }

    function updateCountdown() {
      const nextPrayer = getNextPrayerTime(jadwalSholat);

      if (!nextPrayer) {
        // $('#prayer').html("Semua jadwal sholat hari ini telah berlalu.");
        $("#prayer").css("display", "none");
        $("#tidak_ada_jadwal").css("display", "block");
        $('#countdown').html(" 0 jam 0 menit 0 detik");
        return;
      }

      const now = new Date();
      const diff = Math.max(0, nextPrayer.time - now);

      const hours = Math.floor(diff / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      $('#prayer').html(nextPrayer.name+" <small class='prayer-time'>"+nextPrayer.time.toLocaleTimeString("id-ID", { hour: "2-digit", minute: "2-digit" }).replace('.', ':')+" </small>");
      $('#countdown').html("- "+hours+" jam "+minutes+" menit "+seconds+" detik");
      $("#prayer").css("display", "block");
      $("#tidak_ada_jadwal").css("display", "none");
    }

    setInterval(updateCountdown, 1000);
    updateCountdown(); // First run
  
// tampilan depan jadwal sholat

const waktu = jadwalSholat[0];

const schule= [
  { nama: "Imsak", waktu: waktu.imsak },
  { nama: "Subuh", waktu: waktu.subuh },
  { nama: "Terbit", waktu: waktu.terbit },
  { nama: "Dhuha", waktu: waktu.duha },
  { nama: "Zuhur", waktu: waktu.zuhur },
  { nama: "Asar", waktu: waktu.asar },
  { nama: "Magrib", waktu: waktu.magrib },
  { nama: "Isya", waktu: waktu.isya }
];


      $(schule).each(function(i,val){
        $('#jadwal_List').append("<li class='list-group-item  d-flex justify-content-between align-items-center "+val.nama+"'><div class='aligned'><img src='src/icon/icon-"+val.nama+".svg' alt='icon-"+val.nama+"'/><span>"+val.nama+"</span></div><span class='badge bg-primary'>"+val.waktu+"</span></li>");
      });


// Mengambil teks di dalam span
var keterangan = $('.text-1xl').text();
const ArrayKeterangan = keterangan.split(" ");
let nilai = ArrayKeterangan[0];
// alert(nilai);

switch(nilai) {
  case "Imsak":
        $('.Imsak').toggleClass('list-group-item-success');
    break;
  case "Subuh":
        $('.Subuh').toggleClass('list-group-item-success');
    break;
    case "Terbit":
        $('.Terbit').toggleClass('list-group-item-success');
    break;
    case "Duha":
        $('.Dhuha').toggleClass('list-group-item-success');
    break;
    case "Zuhur":
        $('.Zuhur').toggleClass('list-group-item-success');
    break;
    case "Asar":
        $('.Asar').toggleClass('list-group-item-success');
    break;
    case "Magrib":
        $('.Magrib').toggleClass('list-group-item-success');
    break;
    case "Isya":
        $('.Isya').toggleClass('list-group-item-success');
    break;
  default:
    $('.Subuh').toggleClass('');
}

  </script>

<script>
  const slides = document.querySelector('.slides');
  const allSlides = document.querySelectorAll('.slide');
  const progressBar = document.getElementById('progressBar');
  let currentSlide = 0;
  let timeoutId;

  function showSlide(index) {
    const slide = allSlides[index];
    const duration = parseInt(slide.getAttribute('data-duration'), 10);

    // Move to the selected slide
    slides.style.transform = `translateX(-${index * 100}%)`;

    // Reset and animate the progress bar
    progressBar.style.transition = 'none';
    progressBar.style.width = '0%';
    void progressBar.offsetWidth; // force reflow
    progressBar.style.transition = `width ${duration}ms linear`;
    progressBar.style.width = '100%';

    // Schedule the next slide
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => {
      currentSlide = (currentSlide + 1) % allSlides.length;
      showSlide(currentSlide);
    }, duration);
  }

  // Start the carousel
  showSlide(currentSlide);
</script>


</body>
</html>
